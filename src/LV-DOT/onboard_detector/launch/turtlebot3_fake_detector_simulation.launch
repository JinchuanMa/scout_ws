<launch>
  <!-- TurtleBot3 Model -->
  <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi]"/>
  <arg name="x_pos" default="0.0"/>
  <arg name="y_pos" default="0.0"/>
  <arg name="z_pos" default="0.0"/>

  <!-- Launch standard TurtleBot3 Gazebo world -->
  <include file="$(find turtlebot3_gazebo)/launch/turtlebot3_empty_world.launch">
    <arg name="model" value="$(arg model)" />
    <arg name="x_pos" value="$(arg x_pos)"/>
    <arg name="y_pos" value="$(arg y_pos)"/>
    <arg name="z_pos" value="$(arg z_pos)"/>
  </include>

  <!-- 发布map到odom的静态变换 -->
  <node pkg="tf" type="static_transform_publisher" name="map_to_odom_publisher" 
        args="0 0 0 0 0 0 map odom 100" />

  <!-- Launch keyboard teleop -->
  <include file="$(find turtlebot3_teleop)/launch/turtlebot3_teleop_key.launch"/>

  <!-- Launch fake detector -->
  <include file="$(find onboard_detector)/launch/run_fake_detector_turtlebot3.launch"/>

  <!-- 注释掉或删除自定义的RViz节点，避免冲突 -->
  <!-- <node name="rviz" pkg="rviz" type="rviz" 
        args="-d $(find onboard_detector)/rviz/turtlebot3_fake_detector.rviz" 
        required="false"/> -->

</launch>